(this["webpackJsonpkhaoznet-stream"]=this["webpackJsonpkhaoznet-stream"]||[]).push([[0],{176:function(e,t,n){},218:function(e,t){},220:function(e,t){},234:function(e,t){},236:function(e,t){},264:function(e,t){},266:function(e,t){},267:function(e,t){},272:function(e,t){},274:function(e,t){},293:function(e,t){},305:function(e,t){},308:function(e,t){},336:function(e,t,n){},339:function(e,t,n){},343:function(e,t,n){},344:function(e,t,n){},346:function(e,t,n){"use strict";n.r(t);var s,r,i=n(1),a=n.n(i),o=n(33),c=n.n(o),l=n(50),d=n(51),u=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,363)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),i(e),a(e)}))},m=n(61),h=n(74),g=n(7),p={},b=n(9),j=n.n(b),f=n(21),v=n(8),O=n(12),x=n(17),w=n(16),y=n(23),k=n.n(y),S="token",C=n(65),L=n.n(C),N=function(){function e(){Object(v.a)(this,e)}return Object(O.a)(e,[{key:"get",value:function(e){var t=localStorage.getItem(e)||"{}",n=JSON.parse(t);return null!=n&&null!=n.data&&null!=n.expiryDate&&k()(n.expiryDate).isAfter(k()())?{isSuccess:!0,value:n.data,errorMessage:""}:{isSuccess:!1,value:p,errorMessage:"could not load item from strage"}}},{key:"set",value:function(e,t,n){var s=k()().add(1,"hour"),r={data:t,expiryDate:n||s.toDate()};localStorage.setItem(e,JSON.stringify(r))}}]),e}(),U=function(){function e(t){Object(v.a)(this,e),this._baseUrl=window.config.apiUrl,this.setInterceptors=function(e){L.a.defaults.headers.common.Authorization="Bearer "+e},null!=t&&(this._baseUrl=t);try{var n=(new N).get(S);n.isSuccess&&this.setInterceptors(n.value)}catch(s){}}return Object(O.a)(e,[{key:"get",value:function(){var e=Object(f.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("".concat(this._baseUrl,"/").concat(t));case 3:return n=e.sent,e.abrupt("return",{isSuccess:!0,value:n.data,errorMessage:""});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{isSuccess:!1,value:p,errorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(f.a)(j.a.mark((function e(t,n,s){var r,i,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(this._baseUrl,"/").concat(t),n);case 3:return i=e.sent,null!=s&&s(i.headers),e.abrupt("return",{isSuccess:!0,statusCode:null!==(r=null===i||void 0===i?void 0:i.status)&&void 0!==r?r:200,value:i.data,errorMessage:""});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{isSuccess:!1,value:p,statusCode:null===(a=e.t0.response)||void 0===a?void 0:a.status,errorMessage:e.t0.message});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,n,s){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(f.a)(j.a.mark((function e(t,n){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.delete("".concat(this._baseUrl,"/").concat(t));case 3:return s=e.sent,null!=n&&n(s.headers),e.abrupt("return",{isSuccess:!0,errorMessage:""});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{isSuccess:!1,errorMessage:e.t0.message});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),E=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"loginWithOAuth",value:function(){var e=Object(f.a)(j.a.mark((function e(t){var n,s,r,i,a=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",s=0,e.next=4,this.post("Account/Login",t,(function(e){var r=e.token;s=e.tokenexpiry,n=e.userguid,a.setInterceptors(r);var i=k()().add(s,"seconds"),o=new N;o.set(S,r,i.toDate()),o.set("userGuid",n,i.toDate()),o.set("userName",t.username,i.toDate())}));case 4:return r=e.sent,i={userGuid:n,userName:t.username,secondsTillExpire:s,userProfileUrl:t.profileUrl},e.abrupt("return",{isSuccess:r.isSuccess,value:i,errorMessage:r.errorMessage});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(U),D=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"emoteWithCaptcha",value:function(){var e=Object(f.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("stream/EmoteWithCaptcha",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"emoteWithLogin",value:function(){var e=Object(f.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("stream/LoggedInEmote",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(U);!function(e){e[e.SubmitEmote=0]="SubmitEmote",e[e.ShowLeaderboard=1]="ShowLeaderboard"}(s||(s={})),function(e){e[e.Emote=0]="Emote",e[e.ShowLeaderboard=1]="ShowLeaderboard"}(r||(r={}));var A=n(107),T=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(v.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).listenToEmote=function(t){e.addListener(r.Emote,t)},e.removeListenToEmote=function(t){e.removeListener(r.Emote,t)},e.sendEmote=function(t){e.sendPayload(s.SubmitEmote,{emote:t,captcha:""})},e.listenToShowLeaderboard=function(t){e.addListener(r.ShowLeaderboard,t)},e.removeListenShowLeaderboard=function(t){e.removeListener(r.ShowLeaderboard,t)},e.sendShowLeaderboard=function(){return e.sendPayload(s.ShowLeaderboard)},e}return n}((function e(t){var n=this;Object(v.a)(this,e),this._baseUrl=window.config.apiUrl,this._connection=void 0,this.isConnected=function(){return n._connection.state===A.b.Connected},this.addListener=function(e,t){n.logMessage("Listener created for: ".concat(r[e].toString())),n._connection.on(r[e].toString(),t)},this.removeListener=function(e,t){n.logMessage("Listener removed for: ".concat(r[e].toString())),n._connection.off(r[e].toString(),t)},this.sendPayload=function(){var e=Object(f.a)(j.a.mark((function e(t,r){var i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConnected()){e.next=18;break}if(e.prev=1,i=s[t].toString(),null==r){e.next=8;break}return e.next=6,n._connection.send(i,r);case 6:e.next=10;break;case 8:return e.next=10,n._connection.send(i);case 10:n.logMessage("Message sent!","channel: ".concat(i),r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error("sendPayload error",e.t0);case 16:e.next=19;break;case 18:console.warn("No connection, cannot send payload!");case 19:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}(),this.logMessage=function(e){if(window.config.consoleLogDebug){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];console.log(e,n)}},null!=t&&(this._baseUrl=t),this._connection=(new A.a).withUrl(this._baseUrl+"/hubs/stream").withAutomaticReconnect().build(),this._connection.start().then((function(){return n.logMessage("signalR connection")}))})),I={position:"top-right",autoClose:5e3,rtl:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!0},M=function e(){Object(v.a)(this,e),this.success=function(e,t){m.b.success(e,Object(g.a)(Object(g.a)({},I),t))},this.error=function(e,t){m.b.error(e,Object(g.a)(Object(g.a)({},I),t))}},P=n(216),W=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e){var s;return Object(v.a)(this,n),(s=t.call(this,e)).state={token:"",opaque_id:"",user_id:"",isMod:!1,role:""},s}return Object(O.a)(n,[{key:"isLoggedIn",value:function(){return"U"===this.state.opaque_id[0]}},{key:"isModerator",value:function(){return this.state.isMod}},{key:"hasSharedId",value:function(){return!!this.state.user_id}},{key:"getUserId",value:function(){return this.state.user_id}},{key:"getOpaqueId",value:function(){return this.state.opaque_id}},{key:"setToken",value:function(e,t){var n=!1,s="",r="";try{var i=P.decode(e);"broadcaster"!==i.role&&"moderator"!==i.role||(n=!0),r=i.user_id,s=i.role}catch(a){e="",t=""}this.state={token:e,opaque_id:t,isMod:n,user_id:r,role:s}}},{key:"isAuthenticated",value:function(){return!(!this.state.token||!this.state.opaque_id)}},{key:"makeCall",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET";return new Promise((function(s,r){if(t.isAuthenticated()){var i={"Content-Type":"application/json",Authorization:"Bearer ".concat(t.state.token)};fetch(e,{method:n,headers:i}).then((function(e){return s(e)})).catch((function(e){return r(e)}))}else r("Unauthorized")}))}}]),n}(a.a.Component),G=n(0),_=function(){return{loginService:new E,emoteClient:new T,twitchAuthService:new W(p),streamService:new D,toastService:new M}},R=a.a.createContext(p),H=function(e){var t=e.children;return Object(G.jsx)(R.Provider,{value:_(),children:t})};function V(e,t){return function(n){return Object(G.jsx)(R.Consumer,{children:function(s){return Object(G.jsx)(e,Object(g.a)(Object(g.a)({},t(s)),n))}})}}var F={googleAnalyticsEnabled:!1,consoleLogDebug:!0,useServiceWorker:!1,reportWebVitals:!1,apiUrl:"https://api.assistantapps.com"},B="CommonReducer",J="SettingReducer",z="@@common/Loading",q="@@common/Login",K="@@common/Logout",Q={isLoading:!1,title:"Loading",userGuid:"",userName:"",userProfileUrl:"",userDetailsExpiryDate:new Date},X="@@common/DarkMode",Y="@@common/ToggleMenu",$={isDark:!0,menuIsVisible:!1},Z=function(e,t){return{isLoading:e,text:t||"Loading",type:z}},ee=Object(l.b)({commonReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object.assign({},e,{isLoading:t.isLoading,text:t.text});case q:return console.log(k()().add(t.secondsTillExpire,"seconds").toDate()),Object.assign({},e,{userGuid:t.userGuid,userName:t.userName,userProfileUrl:t.userProfileUrl,userDetailsExpiryDate:k()().add(t.secondsTillExpire,"seconds").toDate()});case K:return Object.assign({},e,{userGuid:"",userName:"",userProfileUrl:"",userDetailsDate:null});default:return e}},settingReducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case X:return Object.assign({},n,{isDark:s.isDark});case Y:var r=document.querySelector("html");return null!=r&&r.classList.toggle("nav-open"),Object.assign({},n,{menuIsVisible:null!==(e=null===r||void 0===r||null===(t=r.classList)||void 0===t?void 0:t.contains("nav-open"))&&void 0!==e&&e});default:return n}}}),te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ne(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");te?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var s=n.headers.get("content-type");404===n.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):se(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):se(t,e)}))}}function se(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var re=n(14),ie=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),n}(i.Component),ae=Object(re.f)((function(e){return Object(G.jsx)(ie,Object(g.a)({},e))})),oe=n(77),ce=function e(){Object(v.a)(this,e)};ce.style1="style1",ce.style2="style2";var le,de="AssistantAppsStream",ue="fe066469-a02f-4827-b577-28ebaea300c8",me={fullName:"Kurt Lourens",nickName:"Khaoz-Topsy",website:"https://kurtlourens.com",twitter:"https://twitter.com/KhaozTopsy",github:"https://github.com/Khaoz-Topsy"},he={twitch:"https://www.twitch.tv/khaoztopsy"},ge={name:"AssistantApps",email:"mailto:support@assistantapps.com",website:"https://assistantapps.com",tools:"https://tools.assistantapps.com",github:"https://assistantapps.com/github",discord:"https://assistantapps.com/discord",patreon:"https://www.patreon.com/AssistantApps"},pe=n(22),be=n.n(pe),je=function(e){var t,n;return Object(G.jsx)("a",{href:(n=e.href,n.includes("@")?n:n.includes("?")?n+"&ref=".concat(de):n+"?ref=".concat(de)),target:"_blank",rel:"noopener noreferrer",className:be()(null!==(t=e.additionalClassNames)&&void 0!==t?t:""),draggable:!1,children:e.children})},fe=n(45),ve=n.n(fe),Oe=n(180),xe=n(181),we=function(e){var t={opacity:e.disabled?"50%":null};return Object(G.jsx)(xe.GoogleLoginButton,{className:"social-button",style:t,onClick:e.onClick})};!function(e){e[e.unknown=0]="unknown",e[e.google=1]="google"}(le||(le={}));var ye=function(e){var t;return(null===e||void 0===e||null===(t=e.commonReducer)||void 0===t?void 0:t.isLoading)||!1},ke=function(e){var t;return Le(e)?"":(null===e||void 0===e||null===(t=e.commonReducer)||void 0===t?void 0:t.userGuid)||""},Se=function(e){var t;return Le(e)?"":(null===e||void 0===e||null===(t=e.commonReducer)||void 0===t?void 0:t.userProfileUrl)||""},Ce=function(e){var t;return Le(e)?"":(null===e||void 0===e||null===(t=e.commonReducer)||void 0===t?void 0:t.userName)||""},Le=function(e){var t,n=null===e||void 0===e||null===(t=e.commonReducer)||void 0===t?void 0:t.userDetailsExpiryDate;return null==n||!!k()().isAfter(n)},Ne=n(106),Ue=n.n(Ne),Ee={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",minWidth:"35vw",minHeight:"35vh",transform:"translate(-50%, -50%)"}};Ue.a.setAppElement("#streamAppDialogContainer");var De,Ae=function(e){var t,n,s,r=a.a.useState(null!==(t=e.isOpen)&&void 0!==t&&t),i=Object(oe.a)(r,2),o=i[0],c=i[1],l=!0===e.isOpen||!0===o;return Object(G.jsxs)(G.Fragment,{children:[null!==(n=e.icon)&&void 0!==n?n:Object(G.jsx)("button",{onClick:function(){null==(null===e||void 0===e?void 0:e.onOpen)?c(!0):e.onOpen()},children:"Open Modal"}),Object(G.jsx)(Ue.a,{isOpen:l,onRequestClose:function(){null==(null===e||void 0===e?void 0:e.onClose)?c(!1):e.onClose()},style:Ee,contentLabel:"Example Modal",preventScroll:!0,parentSelector:function(){return document.getElementById("streamAppDialogContainer")},children:null!==(s=e.children)&&void 0!==s?s:Object(G.jsx)("div",{})})]})},Te=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e){var s;return Object(v.a)(this,n),(s=t.call(this,e)).toggleModalOpen=function(){s.setState((function(e){return{isModalOpen:!e.isModalOpen}}))},s.responseGoogle=function(e){return function(){var t=Object(f.a)(j.a.mark((function t(n){var r,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=n&&null!=n.tokenId&&null!=n.profileObj&&null!=n.accessToken&&null!=n.profileObj.email&&null!=n.profileObj.imageUrl&&null!=n.profileObj.name){t.next=3;break}return s.oAuthLoginFailure({custom:"manual failure, response did not have expected values"}),t.abrupt("return");case 3:return s.toggleModalOpen(),r={accessToken:n.accessToken,tokenId:n.tokenId,email:n.profileObj.email,oAuthType:e,profileUrl:n.profileObj.imageUrl,username:n.profileObj.name},t.next=7,s.props.loginService.loginWithOAuth(r);case 7:i=t.sent,s.setLoadingStatus(!1),i.isSuccess&&s.props.login&&s.props.login(i.value);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},s.setLoadingStatus=function(e){s.props.setLoadingStatus&&s.props.setLoadingStatus(e)},s.oAuthLoginFailure=function(e){console.warn(e),s.setLoadingStatus(!1),s.setState((function(){return{isModalOpen:!1}})),ve.a.fire({title:"Login error!",text:"Something went wrong and we could not log you in. ".concat(e.details),icon:"error"})},s.oAuthLogout=function(){ve.a.fire({title:"Logout?",text:"Are you sure that you want to logout?",icon:"question",allowEnterKey:!0,allowEscapeKey:!0,showCancelButton:!0}).then((function(e){e.isConfirmed&&s.props.logout&&s.props.logout()}))},s.state={isModalOpen:!1},s}return Object(O.a)(n,[{key:"render",value:function(){var e=this,t=null!=this.props.userGuid&&this.props.userGuid.length>5;if(t&&this.props.hideWhenLoggedIn)return Object(G.jsx)("span",{});if(!t&&this.props.hideWhenNotLoggedIn)return Object(G.jsx)("span",{});var n=t?Object(G.jsx)("span",{className:"nav-link pointer",onClick:this.oAuthLogout,children:Object(G.jsx)("img",{className:"oauth-circle",src:this.props.userProfileUrl,alt:this.props.userName})}):null!=this.props.children?Object(G.jsx)("div",{className:"pointer",onClick:this.toggleModalOpen,children:this.props.children}):Object(G.jsx)("span",{className:"nav-link pointer",onClick:this.toggleModalOpen,children:"Login"});return Object(G.jsx)(Ae,{icon:n,isOpen:this.state.isModalOpen,onOpen:this.toggleModalOpen,onClose:this.toggleModalOpen,children:Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("h3",{className:"m-0",children:"AssistantApps Login"}),Object(G.jsx)("hr",{className:"mt-1"}),Object(G.jsx)(Oe.GoogleLogin,{clientId:window.config.googleClientId,render:function(t){var n;return Object(G.jsx)(we,{disabled:null!==(n=t.disabled)&&void 0!==n&&n,onClick:function(){e.setLoadingStatus(!0),t.onClick()}})},buttonText:"Login",onSuccess:this.responseGoogle(le.google),onFailure:this.oAuthLoginFailure,cookiePolicy:"single_host_origin"})]})})}}]),n}(a.a.Component),Ie=V(Object(d.b)((function(e){return{isLoading:ye(e),userGuid:ke(e),userProfileUrl:Se(e),userName:Ce(e)}}),(function(e){var t={setLoadingStatus:function(t){e(Z(t))}};return t.login=function(t){var n;e((n=t,Object(g.a)(Object(g.a)({},n),{},{type:q})))},t.logout=function(){e({type:K})},Object(g.a)({},t)}))(Te),(function(e){return{loginService:e.loginService}})),Me=function(e){return Object(G.jsxs)("header",{id:"header",className:"hide-on-stream",children:[Object(G.jsx)("h1",{children:Object(G.jsxs)("p",{children:["Stream Tools\xa0",Object(G.jsxs)("span",{children:["for ",Object(G.jsx)(je,{href:he.twitch,children:me.nickName})]})]})}),Object(G.jsx)("div",{className:"menu-item",children:Object(G.jsxs)(Ie,{children:[Object(G.jsx)("i",{className:"icon-user",children:"\xa0"}),Object(G.jsx)("span",{children:"Login"})]})}),Object(G.jsxs)("div",{className:"menu-item pointer",onClick:e.toggleDrawer,children:[Object(G.jsx)("i",{className:"icon-menu",children:"\xa0"}),Object(G.jsx)("span",{children:"Menu"})]})]})},Pe=(n(336),function(){return Object(G.jsxs)("div",{className:"scroll-down-arrows col-md-0",children:[Object(G.jsx)("span",{}),Object(G.jsx)("span",{}),Object(G.jsx)("span",{})]})}),We=function(e){var t=Object(i.useRef)(),n=Object(i.useRef)();return Object(i.useEffect)((function(){n.current!==e.videoUrl&&t.current&&setTimeout((function(){console.log("load video"),(null===t||void 0===t?void 0:t.current).load(),n.current=e.videoUrl}),1e3)}),[e.videoUrl]),Object(G.jsxs)("section",{id:"banner",className:"margin-top-navbar","data-video":e.videoUrl,children:[Object(G.jsxs)("div",{className:"inner",children:[Object(G.jsxs)("header",{children:[Object(G.jsx)("h1",{children:"Stream Tools!"}),Object(G.jsxs)("p",{children:["This website is a collection of tools for ",Object(G.jsx)(je,{href:he.twitch,children:"KhaozTopsy"})," streams",Object(G.jsx)("br",{}),Object(G.jsx)("i",{children:"More tools coming soon!"}),"\xa0\ud83e\udd2a"]})]}),Object(G.jsx)("a",{href:"#emote",className:"button big alt scrolly",draggable:!1,children:"Try Emotes \ud83c\udf89"})]}),Object(G.jsxs)("video",{ref:t,autoPlay:!0,muted:!0,loop:!0,children:[Object(G.jsx)("source",{src:"".concat(e.videoUrl,".mp4"),type:"video/mp4"}),Object(G.jsx)("source",{src:"".concat(e.videoUrl,".webm"),type:"video/webm"})]}),Object(G.jsx)(Pe,{})]})},Ge=function(e){return Object(G.jsxs)(G.Fragment,{children:[e.showDrawer&&Object(G.jsx)("div",{className:"full-page-loader opacity80",onClick:e.toggleDrawer}),Object(G.jsxs)("nav",{id:"menu",className:be()("hide-on-stream",{visible:e.showDrawer}),children:[Object(G.jsxs)("ul",{className:"links",children:[Object(G.jsx)("li",{className:"ta-center",children:Object(G.jsx)(Ie,{hideWhenNotLoggedIn:!0})}),Object(G.jsx)("li",{children:Object(G.jsx)(je,{href:he.twitch,children:"Twitch Channel"})}),Object(G.jsx)("li",{children:Object(G.jsxs)(je,{href:ge.website,children:[ge.name," Website"]})}),Object(G.jsx)("li",{children:Object(G.jsx)(je,{href:me.github,children:"Github"})}),Object(G.jsx)("li",{children:Object(G.jsx)(je,{href:ge.patreon,children:"Patreon"})}),Object(G.jsx)("li",{children:Object(G.jsx)(je,{href:ge.discord,children:"Discord"})}),Object(G.jsx)("li",{children:Object(G.jsx)(je,{href:me.website,children:me.fullName})})]}),Object(G.jsx)("span",{className:"close icon-close",onClick:e.toggleDrawer})]})]})},_e=n(78),Re=function(){var e;return Object(G.jsxs)("footer",{id:"footer",className:"hide-on-stream",children:[Object(G.jsx)("div",{className:"inner",children:Object(G.jsxs)("div",{className:"flex flex-3",children:[Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h3",{children:me.nickName}),Object(G.jsxs)("ul",{className:"alt",children:[Object(G.jsx)("li",{children:Object(G.jsx)(je,{href:he.twitch,children:"Twitch channel"})}),Object(G.jsx)("li",{children:Object(G.jsx)(je,{href:me.twitter,children:"Twitter Profile"})}),Object(G.jsx)("li",{children:Object(G.jsx)(je,{href:me.github,children:"Github Profile"})}),Object(G.jsx)("li",{children:Object(G.jsx)(je,{href:me.website,children:"CV Website"})})]})]}),Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h3",{children:ge.name}),Object(G.jsxs)("ul",{className:"alt",children:[Object(G.jsx)("li",{children:Object(G.jsx)(je,{href:ge.website,children:"Main Website"})}),Object(G.jsx)("li",{children:Object(G.jsx)(je,{href:ge.tools,children:"Tools Website"})}),Object(G.jsx)("li",{children:Object(G.jsx)(je,{href:ge.discord,children:"Discord"})}),Object(G.jsx)("li",{children:Object(G.jsx)(je,{href:ge.github,children:"Github Organisation"})}),Object(G.jsx)("li",{children:Object(G.jsx)(je,{href:ge.email,children:"Support Email"})})]})]}),Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h3",{children:"Other"}),Object(G.jsx)("ul",{className:"alt",children:Object(G.jsx)("li",{children:Object(G.jsx)(je,{href:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",children:"Don't click this"})})})]})]})}),Object(G.jsxs)("div",{className:"copyright",children:[Object(G.jsxs)("ul",{className:"icons",children:[Object(G.jsx)("li",{children:Object(G.jsx)("a",{href:"https://google.com",className:"icon fa-twitter",children:Object(G.jsx)("span",{className:"label",children:"Twitter"})})}),Object(G.jsx)("li",{children:Object(G.jsx)("a",{href:"https://google.com",className:"icon fa-facebook",children:Object(G.jsx)("span",{className:"label",children:"Facebook"})})}),Object(G.jsx)("li",{children:Object(G.jsx)("a",{href:"https://google.com",className:"icon fa-instagram",children:Object(G.jsx)("span",{className:"label",children:"Instagram"})})}),Object(G.jsx)("li",{children:Object(G.jsx)("a",{href:"https://google.com",className:"icon fa-snapchat",children:Object(G.jsx)("span",{className:"label",children:"Snapchat"})})})]}),Object(G.jsxs)(je,{href:me.website,children:["\xa9 ",me.fullName," | ",null!==(e=null===_e||void 0===_e?void 0:_e.version)&&void 0!==e?e:"1.0.0"]})]})]})},He=n(34),Ve=n(182),Fe=n.n(Ve);!function(e){e[e.none=0]="none",e[e.atlas=1]="atlas",e[e.sClass=2]="sClass",e[e.aClass=3]="aClass",e[e.bClass=4]="bClass",e[e.cClass=5]="cClass",e[e.corruptedDrone=6]="corruptedDrone",e[e.expPatchNull=7]="expPatchNull",e[e.expPatchUnderwater=8]="expPatchUnderwater",e[e.expPatchUnits=9]="expPatchUnits",e[e.goldenGek=10]="goldenGek",e[e.ok=11]="ok",e[e.pioneerBadge=12]="pioneerBadge",e[e.pioneerTrophy=13]="pioneerTrophy",e[e.seanMindBlown=14]="seanMindBlown",e[e.seanHead=15]="seanHead",e[e.thumbsUp=16]="thumbsUp",e[e.units=17]="units",e[e.nanites=18]="nanites",e[e.waveAnomaly=19]="waveAnomaly",e[e.wonder=20]="wonder",e[e.ficsit=21]="ficsit",e[e.ficsitThumbsUp=22]="ficsitThumbsUp",e[e.ficsitHead=23]="ficsitHead",e[e.ficsitCoupon=24]="ficsitCoupon",e[e.eddisonLol=25]="eddisonLol",e[e.eddisonSir=26]="eddisonSir",e[e.eddisonLifeJacket=27]="eddisonLifeJacket",e[e.eddisonOnCouch=28]="eddisonOnCouch",e[e.amongUs=29]="amongUs",e[e.amongUsDance=30]="amongUsDance",e[e.bro=31]="bro",e[e.bunnyheart=32]="bunnyheart",e[e.facepalm=33]="facepalm",e[e.fakeNews=34]="fakeNews",e[e.hype=35]="hype",e[e.kittyGun=36]="kittyGun",e[e.pikaWhat=37]="pikaWhat",e[e.pressF=38]="pressF",e[e.programming=39]="programming",e[e.report=40]="report",e[e.yay=41]="yay",e[e.stonks=42]="stonks",e[e.catHands=43]="catHands",e[e.cool=44]="cool",e[e.coolThinking=45]="coolThinking",e[e.no=46]="no",e[e.yes=47]="yes",e[e.dancingHamster=48]="dancingHamster",e[e.dancingPanda=49]="dancingPanda"}(De||(De={}));var Be="default",Je="nms",ze="satisfactory",qe="eddison",Ke="other",Qe=[{id:De.sClass,imageUrl:"/assets/img/emotes/nms/classS.png",tags:[Be,Je],sortOrder:10},{id:De.aClass,imageUrl:"/assets/img/emotes/nms/classA.png",tags:[Be,Je],sortOrder:20},{id:De.ok,imageUrl:"/assets/img/emotes/nms/ok.png",tags:[Be,Je],sortOrder:30},{id:De.corruptedDrone,imageUrl:"/assets/img/emotes/nms/corruptedDrone.png",tags:[Be,Je],sortOrder:40},{id:De.seanMindBlown,imageUrl:"/assets/img/emotes/nms/seanMindBlown.png",tags:[Be,Je],sortOrder:50},{id:De.seanHead,imageUrl:"/assets/img/emotes/nms/seanHead.png",tags:[Be,Je],sortOrder:60},{id:De.bunnyheart,imageUrl:"/assets/img/emotes/bunnyheart.png",tags:[Be],sortOrder:70},{id:De.yay,imageUrl:"/assets/img/emotes/yay.gif",tags:[Ke,Be],sortOrder:100},{id:De.ficsit,imageUrl:"/assets/img/emotes/ficsit.png",tags:[Be,ze],sortOrder:80},{id:De.ficsitThumbsUp,imageUrl:"/assets/img/emotes/ficsitThumbsUp.png",tags:[Be,ze],sortOrder:90},{id:De.stonks,imageUrl:"/assets/img/emotes/stonks.png",tags:[Be],sortOrder:110},{id:De.pikaWhat,imageUrl:"/assets/img/emotes/pkawha.png",tags:[Be],sortOrder:120},{id:De.amongUs,imageUrl:"/assets/img/emotes/amongus.png",tags:[Be],sortOrder:130},{id:De.amongUsDance,imageUrl:"/assets/img/emotes/amongUsDance.gif",tags:[Be],sortOrder:140},{id:De.report,imageUrl:"/assets/img/emotes/report.png",tags:[Be],sortOrder:150},{id:De.facepalm,imageUrl:"/assets/img/emotes/facepalm.png",tags:[Ke,Be],sortOrder:160},{id:De.fakeNews,imageUrl:"/assets/img/emotes/fakeNews.png",tags:[Be],sortOrder:170},{id:De.bro,imageUrl:"/assets/img/emotes/bro.png",tags:[Be],sortOrder:180},{id:De.pressF,imageUrl:"/assets/img/emotes/pressF.png",tags:[Be],sortOrder:190},{id:De.programming,imageUrl:"/assets/img/emotes/programming.gif",tags:[Be],sortOrder:200},{id:De.eddisonLol,imageUrl:"/assets/img/emotes/eddisonLol.png",tags:[Ke,qe],sortOrder:71},{id:De.eddisonSir,imageUrl:"/assets/img/emotes/eddisonSir.png",tags:[Ke,qe],sortOrder:72},{id:De.eddisonLifeJacket,imageUrl:"/assets/img/emotes/eddisonLifeJacket.png",tags:[Ke,qe],sortOrder:73},{id:De.eddisonOnCouch,imageUrl:"/assets/img/emotes/eddisonOnCouch.png",tags:[Ke,qe],sortOrder:74},{id:De.bClass,imageUrl:"/assets/img/emotes/nms/classB.png",tags:[Je],sortOrder:21},{id:De.cClass,imageUrl:"/assets/img/emotes/nms/classC.png",tags:[Je],sortOrder:22},{id:De.thumbsUp,imageUrl:"/assets/img/emotes/nms/thumbsUp.png",tags:[Je],sortOrder:23},{id:De.expPatchNull,imageUrl:"/assets/img/emotes/nms/expPatchNull.png",tags:[Je],sortOrder:24},{id:De.expPatchUnderwater,imageUrl:"/assets/img/emotes/nms/expPatchUnderwater.png",tags:[Je],sortOrder:24},{id:De.expPatchUnits,imageUrl:"/assets/img/emotes/nms/expPatchUnits.png",tags:[Je],sortOrder:24},{id:De.goldenGek,imageUrl:"/assets/img/emotes/nms/goldenGek.png",tags:[Je],sortOrder:24},{id:De.pioneerBadge,imageUrl:"/assets/img/emotes/nms/pioneerBadge.png",tags:[Je],sortOrder:24},{id:De.pioneerTrophy,imageUrl:"/assets/img/emotes/nms/pioneerTrophy.png",tags:[Je],sortOrder:24},{id:De.units,imageUrl:"/assets/img/emotes/nms/Units.png",tags:[Je],sortOrder:29},{id:De.nanites,imageUrl:"/assets/img/emotes/nms/nanites.png",tags:[Je],sortOrder:29},{id:De.waveAnomaly,imageUrl:"/assets/img/emotes/nms/waveAnomaly.png",tags:[Je],sortOrder:31},{id:De.wonder,imageUrl:"/assets/img/emotes/nms/wonder.png",tags:[Je],sortOrder:32},{id:De.atlas,imageUrl:"/assets/img/emotes/nms/atlas.png",tags:[Je],sortOrder:41},{id:De.ficsitHead,imageUrl:"/assets/img/emotes/ficsitEngineer.png",tags:[Ke,ze],sortOrder:91},{id:De.ficsitCoupon,imageUrl:"/assets/img/emotes/ficsitCoupon.png",tags:[Ke,ze],sortOrder:92},{id:De.catHands,imageUrl:"/assets/img/emotes/catHands.png",tags:[Ke],sortOrder:75},{id:De.cool,imageUrl:"/assets/img/emotes/cool.png",tags:[Ke],sortOrder:111},{id:De.coolThinking,imageUrl:"/assets/img/emotes/coolThinking.png",tags:[Ke],sortOrder:112},{id:De.yes,imageUrl:"/assets/img/emotes/yes.png",tags:[Ke],sortOrder:113},{id:De.no,imageUrl:"/assets/img/emotes/no.png",tags:[Ke],sortOrder:114},{id:De.hype,imageUrl:"/assets/img/emotes/hype.png",tags:[Ke],sortOrder:200},{id:De.kittyGun,imageUrl:"/assets/img/emotes/kittyGun.png",tags:[Ke],sortOrder:201},{id:De.dancingHamster,imageUrl:"/assets/img/emotes/dancingHamster.gif",tags:[Ke],sortOrder:202},{id:De.dancingPanda,imageUrl:"/assets/img/emotes/dancingPanda.gif",tags:[Ke],sortOrder:203}],Xe=Qe.filter((function(e){return e.tags.includes(Be)})),Ye=n(338),$e=function(e,t){return Ye(e).add(t,"minute")},Ze=function(e,t){return Ye(e).add(t,"millisecond")},et=function(e){var t,n;return Object(G.jsx)("img",{src:e.imageUrl,className:e.classNames,alt:null!==(t=null!==(n=e.alt)&&void 0!==n?n:e.imageName)&&void 0!==t?t:"Emote button",draggable:!1})},tt=(n(176),function(e){var t=Qe.find((function(t){return t.id===e.emoteId}));return null==t?Object(G.jsx)("span",{}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(et,Object(g.a)({classNames:"tiny-img"},t)),null!=e.message&&Object(G.jsxs)("span",{children:["\xa0\xa0",e.message]})]})}),nt=function(e,t){return e.success(Object(G.jsx)(tt,{emoteId:t,message:"was submitted successfully"}))},st=function(e,t){return e.error(Object(G.jsx)(tt,{emoteId:t,message:"was not submitted"}))},rt=n(362),it=n(347),at=function(e){return Object(G.jsx)("div",{className:be()("video col pointer noselect",{active:e.isActive}),onClick:function(){return e.onClick(e.id)},children:Object(G.jsx)("div",{className:"image fit emote noselect",children:Object(G.jsx)(et,Object(g.a)({},e))})})},ot=function(e){var t,n,s=[{title:"Default",image:"/assets/img/emotes/facepalm.png",tagContains:[Be]},{title:"No Man's Sky",image:"/assets/img/emotes/nms/classS.png",tagContains:[Je]},{title:"Eddison",image:"/assets/img/emotes/eddisonSir.png",tagContains:[qe]},{title:"Other",image:"/assets/img/emotes/kittyGun.png",tagContains:[ze,Ke]}],r=null!==(t=null===(n=s[e.selectedSectionIndex])||void 0===n?void 0:n.tagContains)&&void 0!==t?t:[],i=(e.availableEmotes||[]).filter((function(e){return e.tags.some((function(e){return r.indexOf(e)>=0}))}));return Object(G.jsxs)("div",{className:"row",children:[Object(G.jsxs)("div",{className:"group-selection ta-center",children:[Object(G.jsx)(rt.a,{className:"lg",color:"primary","aria-label":"outlined primary button group",children:s.map((function(t,n){return Object(G.jsx)(it.a,{className:be()({active:n===e.selectedSectionIndex}),onClick:function(){var t;return null===(t=e.onSectionClick)||void 0===t?void 0:t.call(e,n)},children:t.title},t.title)}))}),Object(G.jsx)(rt.a,{className:"sm",color:"primary","aria-label":"outlined primary button group",children:s.map((function(t,n){return Object(G.jsx)(it.a,{className:be()({active:n===e.selectedSectionIndex}),onClick:function(){var t;return null===(t=e.onSectionClick)||void 0===t?void 0:t.call(e,n)},children:Object(G.jsx)("img",{src:t.image,className:"sm-img",alt:t.title})},t.title)}))}),Object(G.jsx)(rt.a,{className:"xs",color:"primary","aria-label":"outlined primary button group",children:s.map((function(t,n){return Object(G.jsx)(it.a,{className:be()({active:n===e.selectedSectionIndex}),onClick:function(){var t;return null===(t=e.onSectionClick)||void 0===t?void 0:t.call(e,n)},children:Object(G.jsx)("img",{src:t.image,className:"xs-img",alt:t.title})},t.title)}))})]}),Object(G.jsxs)("div",{style:{width:"100%"},className:"ta-center",children:[Object(G.jsx)("div",{className:"flex flex-tabs",children:Object(G.jsx)("div",{className:"tab tab-1 emote-flex flex flex-5 active",style:{width:"100%"},children:i.map((function(t,n){return Object(G.jsx)(at,Object(g.a)(Object(g.a)({},t),{},{isActive:e.receivedEmotes.findIndex((function(e){return!(e.expiryDate<new Date)&&e.selectedEmote===t.id}))>=0,onClick:e.setCurrentEmote}),"".concat(n,"-").concat(t.id))}))})}),Object(G.jsxs)("button",{className:"button big alt",onClick:e.onShowLeaderboardClick,children:[Object(G.jsx)("img",{src:"/assets/img/cup.svg",draggable:"false",alt:"cup",style:{verticalAlign:"middle",marginRight:"0.5em",height:"30px"}}),Object(G.jsx)("span",{children:"Show Leaderboard on stream"})]})]})]})},ct=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e){var s;return Object(v.a)(this,n),(s=t.call(this,e)).captchaRef=a.a.createRef(),s.onSectionClick=function(e){s.setState((function(){return{selectedSectionIndex:e}}))},s.state={selectedSectionIndex:0},s}return Object(O.a)(n,[{key:"render",value:function(){return Object(G.jsx)(ot,Object(g.a)(Object(g.a)(Object(g.a)({},this.state),this.props),{},{onSectionClick:this.onSectionClick,onShowLeaderboardClick:this.props.onShowLeaderboardClick}))}}]),n}(a.a.Component),lt=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e){var s;return Object(v.a)(this,n),(s=t.call(this,e)).captchaRef=a.a.createRef(),s.isLoggedIn=function(e){return null!=e.userGuid&&e.userGuid.length>5},s.getValidEmotes=function(e){return e.filter((function(e){return e.expiryDate>new Date}))},s.receiveSelectedEmote=function(e){s.setState((function(t){var n={selectedEmote:e,expiryDate:Ze(new Date,500)},r=s.getValidEmotes(t.receivedEmotes);return{receivedEmotes:[].concat(Object(He.a)(r),[n])}})),setTimeout((function(){s.setState((function(e){return{receivedEmotes:s.getValidEmotes(e.receivedEmotes)}}))}),500)},s.setCurrentEmote=function(){var e=Object(f.a)(j.a.mark((function e(t){var n,r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.getValidEmotes(s.state.emotesHistory).filter((function(e){return e.selectedEmote===t})).length>5)){e.next=4;break}return ve.a.fire({icon:"warning",title:"Woah!",text:"I think we all get the point, please don't spam a single emoji \ud83d\ude05",allowOutsideClick:!1}),e.abrupt("return");case 4:if(s.setState((function(){return{selectedEmote:t}})),s.isLoggedIn(s.props)){e.next=8;break}return null===(n=s.captchaRef)||void 0===n||null===(r=n.current)||void 0===r||r.execute(),e.abrupt("return");case 8:return e.next=10,s.props.streamService.emoteWithLogin({emote:t,captcha:""});case 10:if(!(i=e.sent).isSuccess){e.next=15;break}return nt(s.props.toastService,t),s.setState((function(e){return{emotesHistory:[].concat(Object(He.a)(e.emotesHistory),[{selectedEmote:t,expiryDate:$e(new Date,1)}])}})),e.abrupt("return");case 15:if(429!==i.statusCode){e.next=18;break}return ve.a.fire({icon:"warning",title:"Too Many!",text:"You have submitted too many emojis, please slow down \ud83d\ude05",allowOutsideClick:!1}),e.abrupt("return");case 18:st(s.props.toastService,t);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.onShowLeaderboardClick=function(){s.state.showLeaderboardHistory.filter((function(e){return e>new Date})).length>1?ve.a.fire({icon:"warning",title:"Woah!",text:"I think we all get the point, please don't spam the show leaderboard button \ud83d\ude05",allowOutsideClick:!1}):s.setState((function(e){return{showLeaderboardHistory:[].concat(Object(He.a)(e.showLeaderboardHistory),[$e(new Date,1)])}}),s.props.emoteClient.sendShowLeaderboard)},s.state={selectedEmote:De.none,receivedEmotes:[],emotesHistory:[],showLeaderboardHistory:[]},s}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.props.emoteClient.listenToEmote(this.receiveSelectedEmote)}},{key:"componentWillUnmount",value:function(){this.props.emoteClient.removeListenToEmote(this.receiveSelectedEmote)}},{key:"render",value:function(){var e=this,t=Qe.sort((function(e,t){return e.sortOrder-t.sortOrder})),n=null!=this.props.userGuid&&this.props.userGuid.length>5;return Object(G.jsx)("section",{id:"emote",className:"wrapper ".concat(this.props.wrapperClass),children:Object(G.jsxs)("div",{className:"inner",children:[Object(G.jsxs)("header",{children:[Object(G.jsx)("h2",{children:"Stream emotes \ud83c\udf89"}),Object(G.jsxs)("p",{children:["From here you can interact with the stream by clicking these emotes:",!n&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("br",{}),"Login to skip completing the captcha on every"]})]})]}),Object(G.jsx)(ct,{receivedEmotes:this.state.receivedEmotes,availableEmotes:t,setCurrentEmote:this.setCurrentEmote,onShowLeaderboardClick:this.onShowLeaderboardClick,emoteClient:this.props.emoteClient}),Object(G.jsx)(Fe.a,{ref:this.captchaRef,sitekey:ue,theme:"dark",size:"invisible",onVerify:function(t){var n,s,r=e.state.selectedEmote;e.props.streamService.emoteWithCaptcha({emote:r,captcha:t}),null===(n=e.captchaRef)||void 0===n||null===(s=n.current)||void 0===s||s.resetCaptcha()}}),Object(G.jsx)("span",{id:"login-top-right",className:"pos-top-right ta-center",children:Object(G.jsxs)(Ie,{hideWhenLoggedIn:!0,children:[Object(G.jsx)("i",{className:"icon-user font-2"}),Object(G.jsx)("br",{}),Object(G.jsx)("span",{children:"Login"})]})})]})})}}]),n}(a.a.Component),dt=V(Object(d.b)((function(e){return{userGuid:ke(e),userProfileUrl:Se(e),userName:Ce(e)}}),(function(e){return Object(g.a)({},{})}))(lt),(function(e){return{emoteClient:e.emoteClient,twitchAuthService:e.twitchAuthService,streamService:e.streamService,toastService:e.toastService}})),ut=function(e){var t;return Object(G.jsx)("section",{className:"wrapper ".concat(e.wrapperClass),children:Object(G.jsxs)("div",{className:"inner",children:[Object(G.jsxs)("header",{className:"align-center",children:[Object(G.jsx)("h2",{children:e.title}),e.subtitleComponent]}),Object(G.jsx)("div",{className:be()("flex",null!==(t=e.flexClass)&&void 0!==t?t:"flex-2"),children:e.items.map((function(e){var t=Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("div",{className:"image fit",children:Object(G.jsx)("img",{src:e.image,alt:e.text})}),Object(G.jsx)("p",{className:"caption",children:e.text})]});return null!=e.link?Object(G.jsx)(je,{href:e.link,additionalClassNames:"video col",children:t},e.image):Object(G.jsx)("div",{className:"video col pointer",onClick:function(){var t;return null===(t=e.onClick)||void 0===t?void 0:t.call(e)},children:t},e.image)}))})]})})},mt=function(){var e=Object(i.useState)(!1),t=Object(oe.a)(e,2),n=t[0],s=t[1];return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Me,{toggleDrawer:function(){return s(!n)}}),Object(G.jsx)(Ge,{showDrawer:n,toggleDrawer:function(){return s(!n)}}),Object(G.jsx)(We,{videoUrl:"/assets/vid/banner"}),Object(G.jsxs)("div",{id:"main",children:[Object(G.jsx)(dt,{wrapperClass:ce.style2}),Object(G.jsx)(ut,{title:"More content",subtitleComponent:Object(G.jsxs)("p",{children:["Other content from ",Object(G.jsx)(je,{href:he.twitch,children:"KhaozTopsy"})," (",Object(G.jsx)(je,{href:ge.website,children:"AssistantApps"}),")"]}),wrapperClass:ce.style1,flexClass:"flex-3",items:[{image:"/assets/img/moreContent/streamEmotesBlog.png",text:"Blog post on how & why this website was built, without getting too technical.",link:"https://blog.kurtlourens.com/stream-emojis-build-it-yourself/"},{image:"/assets/img/moreContent/patreonExclusive.png",text:"Our Patreon page, If you can help me create more software please consider.",link:ge.patreon},{image:"/assets/img/moreContent/assistantAppsMeta.jpeg",text:"Home page of the AssistantApps, all the currently available apps are listed here!",link:ge.website}]})]}),Object(G.jsx)(Re,{})]})},ht=(n(339),function(e){var t,n=[];return e.rankings&&e.rankings.length>0&&(n=e.rankings.sort((function(e,t){return t.score-e.score})).slice(0,e.numberOfUsersOnLeaderboard)),n.length<1?(console.warn("No Leaderboard users!"),Object(G.jsx)("div",{className:"leaderboard"})):Object(G.jsxs)("div",{className:be()("leaderboard",{show:null!==(t=e.showLeaderboard)&&void 0!==t&&t}),children:[Object(G.jsxs)("h1",{children:[Object(G.jsx)("img",{src:"/assets/img/cup.svg",draggable:"false",alt:"cup",style:{verticalAlign:"middle",marginRight:"0.5em"}}),e.title]}),Object(G.jsx)("ol",{children:n.map((function(e){return Object(G.jsxs)("li",{children:[Object(G.jsx)("mark",{children:e.name}),Object(G.jsx)("small",{children:e.score})]},e.id)}))})]})}),gt=["anim-sec-10","anim-sec-20","anim-sec-30"],pt=["anim-sec-1","anim-sec-2","anim-sec-3","anim-sec-4"],bt=["snowflake","fly-x","fly-x-reverse","dvd","dvd-reverse"],jt=["type-0","type-1","type-2","type-3","type-4","type-5","type-6","type-7","type-8","type-9"],ft=["sway-x","sway-y","shake","spin"],vt=[].concat(["sway-x","sway-y","shake","pulse","spin"],ft,ft),Ot=n(340),xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return new Ot(e)},wt=function(e,t){return t[e.roll()-1]},yt=V(function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e){var s;return Object(v.a)(this,n),(s=t.call(this,e)).timer=function(){var e=s.getValidEmotes(s.state),t=function(e){var t=s.getLeaderboardDate(e);return{showLeaderboard:k()(t).isBefore(k()()),showLeaderboardDate:t}};if(e.length>0)s.setState((function(e){return t(e)}));else{var n=wt(s.state.randomEmoteDice,Xe),r=s.manipulateStateOnSelectedEmote({emoteId:n.id});s.setState((function(e){var n=r(e);return Object(g.a)(Object(g.a)({},n),t(e))}))}},s.addToLeaderboard=function(e,t){var n=Object(He.a)(e.leaderboardUsers);if(null==t.userId)return n;var s=n.findIndex((function(e){return e.id===t.userId}));if(s<0)return n.push({id:t.userId,name:t.username,score:1}),n;var r=Object(g.a)({},n[s]);return r.score+=1,[].concat(Object(He.a)(n.slice(0,s)),[r],Object(He.a)(n.slice(s+1)))},s.getLeaderboardDate=function(e){var t=k()(e.showLeaderboardDate).add(10,"seconds"),n=k()();return t.isBefore(n)?n.add(60,"seconds").toDate():e.showLeaderboardDate},s.userSubmittedShowLeaderboard=function(){s.setState((function(){return{showLeaderboard:!0,showLeaderboardDate:k()().toDate()}}))},s.getValidEmotes=function(e){return e.selectedEmotes.filter((function(e){return e.expiryDate>new Date}))},s.setSelectedEmote=function(e){s.setState(s.manipulateStateOnSelectedEmote(e))},s.manipulateStateOnSelectedEmote=function(e){return function(t){var n,r,i=wt(s.state.majorAnimationDice,bt),a=wt(s.state.majorAnimationDurationDice,gt),o=wt(s.state.majorAnimationVariationDice,jt),c=wt(s.state.minorAnimationDice,vt),l=wt(s.state.minorAnimationDurationDice,pt),d={selectedEmote:e.emoteId,majorAnimClass:i,majorAnimDurClass:a,majorAnimVariantClass:o,minorAnimClass:c,minorAnimDurClass:l,expiryDate:(n=new Date,r=15,Ye(n).add(r,"second"))},u=s.getValidEmotes(t);return{selectedEmotes:[].concat(Object(He.a)(u),[d]),leaderboardUsers:s.addToLeaderboard(t,e)}}},s.renderEmote=function(e){var t=Qe.find((function(t){return t.id===e.selectedEmote}));if(null==t)return null;var n="emote: ".concat(e.selectedEmote,", date: ").concat(e.expiryDate.toISOString()),s=e.majorAnimClass,r=e.majorAnimDurClass,i=e.majorAnimVariantClass,a=e.minorAnimDurClass,o=e.minorAnimClass;return Object(G.jsx)("div",{"data-key":n,className:be()(s,r,i),draggable:!1,children:Object(G.jsx)("div",{className:be()(o,a),draggable:!1,children:Object(G.jsx)(et,{classNames:"dashboard-emote",imageUrl:t.imageUrl,imageName:t.imageName})})},n)},s.state={intervalId:void 0,selectedEmotes:[],showLeaderboard:!0,showLeaderboardDate:new Date,leaderboardUsers:[],randomEmoteDice:xt(Xe.length),majorAnimationDice:xt(bt.length),majorAnimationDurationDice:xt(gt.length),majorAnimationVariationDice:xt(jt.length),minorAnimationDice:xt(vt.length),minorAnimationDurationDice:xt(pt.length)},s}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.props.emoteClient.listenToEmote(this.setSelectedEmote),this.props.emoteClient.listenToShowLeaderboard(this.userSubmittedShowLeaderboard);var e=setInterval(this.timer,5e3);this.setState((function(){return{intervalId:e}}))}},{key:"componentWillUnmount",value:function(){this.props.emoteClient.removeListenToEmote(this.setSelectedEmote),this.props.emoteClient.removeListenShowLeaderboard(this.userSubmittedShowLeaderboard),this.state.intervalId&&clearInterval(this.state.intervalId)}},{key:"render",value:function(){var e=this.getValidEmotes(this.state),t=this.state,n=t.showLeaderboard,s=t.leaderboardUsers;return console.warn({showLeaderboard:n}),Object(G.jsxs)("div",{id:"main",className:"height-100vh",draggable:!1,children:[Object(G.jsx)(ht,{title:"Top 5 emoji clickers - Stream",showLeaderboard:n,rankings:s,numberOfUsersOnLeaderboard:5},s.length),e.map(this.renderEmote).filter((function(e){return null!=e}))]})}}]),n}(a.a.Component),(function(e){return{emoteClient:e.emoteClient}})),kt=function(){return Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col-12",style:{textAlign:"center"},children:[Object(G.jsx)("img",{src:"/assets/img/loader_secondary.svg",draggable:"false",alt:"loading-animation",style:{height:"75px",display:"inline"}}),Object(G.jsx)("h2",{className:"largeHeading",style:{display:"inline",verticalAlign:"middle"},children:"Loading..."})]})})})},St=V(function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e){var s;return Object(v.a)(this,n),(s=t.call(this,e)).getValidEmotes=function(e){return e.filter((function(e){return e.expiryDate>new Date}))},s.receiveSelectedEmote=function(e){s.setState((function(t){var n={selectedEmote:e,expiryDate:Ze(new Date,500)},r=s.getValidEmotes(t.receivedEmotes);return{receivedEmotes:[].concat(Object(He.a)(r),[n])}})),setTimeout((function(){s.setState((function(e){return{receivedEmotes:s.getValidEmotes(e.receivedEmotes)}}))}),500)},s.setCurrentEmote=function(){var e=Object(f.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.state={selectedEmote:De.none,receivedEmotes:[],emotesHistory:[],twitch:window.Twitch?window.Twitch.ext:null,finishedLoading:!1,isVisible:!0},s}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.emoteClient.listenToEmote(this.receiveSelectedEmote),this.state.twitch&&(this.state.twitch.onAuthorized((function(t){e.props.twitchAuthService.setToken(t.token,t.userId),e.state.finishedLoading||e.setState((function(){return{finishedLoading:!0}}))})),this.state.twitch.listen("broadcast",(function(t,n,s){var r,i;null===(r=e.state.twitch.rig)||void 0===r||null===(i=r.log)||void 0===i||i.call(r,"New PubSub message!\n".concat(t,"\n").concat(n,"\n").concat(s))})),this.state.twitch.onVisibilityChanged((function(t,n){e.visibilityChanged(t)})),this.state.twitch.onContext((function(e,t){console.log(e,t)})))}},{key:"componentWillUnmount",value:function(){this.props.emoteClient.removeListenToEmote(this.receiveSelectedEmote),this.state.twitch&&this.state.twitch.unlisten("broadcast",(function(){return console.log("successfully unlistened")}))}},{key:"visibilityChanged",value:function(e){this.setState((function(){return{isVisible:e}}))}},{key:"render",value:function(){if(this.state.finishedLoading&&this.state.isVisible)return Object(G.jsx)(kt,{});var e=Qe.sort((function(e,t){return e.sortOrder-t.sortOrder}));return Object(G.jsx)("section",{id:"emote",className:"wrapper ".concat(this.props.wrapperClass),children:Object(G.jsxs)("div",{className:"inner",children:[Object(G.jsxs)("header",{className:"",children:[Object(G.jsx)("h2",{children:"Stream emotes \ud83c\udf89"}),Object(G.jsx)("p",{children:"From here you can interact with the stream by click these emotes:"})]}),Object(G.jsx)(ct,{receivedEmotes:this.state.receivedEmotes,availableEmotes:e,setCurrentEmote:this.setCurrentEmote,onShowLeaderboardClick:function(){},emoteClient:this.props.emoteClient})]})})}}]),n}(a.a.Component),(function(e){return{emoteClient:e.emoteClient,twitchAuthService:e.twitchAuthService,streamService:e.streamService}})),Ct=function(){return Object(i.useEffect)((function(){setTimeout((function(){!1?document.body.classList.add("is-loading"):document.body.classList.remove("is-loading")}),100)}),[""]),Object(G.jsx)(ae,{children:Object(G.jsxs)(re.c,{children:[Object(G.jsx)(re.a,{exact:!0,path:"/",component:mt}),Object(G.jsx)(re.a,{path:"/dash",component:yt}),Object(G.jsx)(re.a,{path:"/video_overlay.html",component:St})]})})},Lt=(n(343),n(344),n(345),function(){var e=Q,t=localStorage.getItem(B);t&&"undefined"!==t&&(e=JSON.parse(t||"{}"));var n=$,s=localStorage.getItem(J);return s&&"undefined"!==s&&(n=JSON.parse(s||"{}")),{settingReducer:n,commonReducer:e}}()),Nt=Object(l.c)(ee,Lt);Nt.subscribe((function(){return function(e){var t=e.getState().commonReducer,n=JSON.parse(localStorage.getItem(B)||"{}");null!=n&&n.userGuid===t.userGuid&&n.userName===t.userName&&n.userProfileUrl===t.userProfileUrl&&n.userDetailsExpiryDate===t.userDetailsExpiryDate||(t.isLoading=!1,localStorage.setItem(B,JSON.stringify(t)));var s=e.getState().settingReducer,r=JSON.parse(localStorage.getItem(J)||"{}");null!=r&&r.isDark===s.isDark||localStorage.setItem(J,JSON.stringify(s))}(Nt)})),window.config=window.config||{},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="json",n.onload=function(){var e=n.status;t(200===e,n.response)},n.send()}("/assets/config.json",(function(e,t){window.config=!0===e?t||{}:F,window.config.consoleLogDebug&&console.log("Config",window.config);var n=Object(G.jsx)(H,{children:Object(G.jsx)(a.a.StrictMode,{children:Object(G.jsx)(d.a,{store:Nt,children:Object(G.jsxs)(h.a,{children:[Object(G.jsx)(Ct,{}),Object(G.jsx)(m.a,{newestOnTop:!1})]})})})});c.a.render(n,document.getElementById("streamApp")),window.config.reportWebVitals&&u(console.log),window.config.useServiceWorker?ne({onUpdate:function(e){console.log("ServiceWorker Update")}}):"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}))},78:function(e){e.exports=JSON.parse('{"name":"khaoznet-stream","version":"0.2.12","private":true,"dependencies":{"@hcaptcha/react-hcaptcha":"^0.3.4","@material-ui/core":"^4.11.3","@microsoft/signalr":"^5.0.3","@testing-library/jest-dom":"^5.11.9","@testing-library/react":"^11.2.5","@testing-library/user-event":"^12.8.1","@types/jest":"^26.0.20","@types/node":"^12.20.4","@types/react":"^17.0.2","@types/react-dom":"^17.0.1","axios":"^0.21.1","chokidar":"^3.5.3","classnames":"^2.2.6","dayjs":"^1.10.4","gamblers-dice":"^1.0.1","jsonwebtoken":"^8.5.1","moment":"^2.29.1","react":"^17.0.1","react-dom":"^17.0.1","react-fast-marquee":"^1.1.2","react-google-login":"^5.2.2","react-modal":"^3.12.1","react-redux":"^7.2.1","react-router-dom":"^5.2.0","react-scripts":"4.0.3","react-social-login-buttons":"^3.4.0","react-toastify":"^7.0.3","redux":"^4.0.5","sass":"^1.55.0","sweetalert2":"^10.1.0","typescript":"^4.2.2","web-vitals":"^1.1.0"},"scripts":{"start":"react-scripts start","twitch":"set HTTPS=true && set PORT=53261 && react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/classnames":"^2.2.11","@types/hcaptcha__react-hcaptcha":"^0.1.4","@types/react-modal":"^3.12.0","@types/react-redux":"^7.1.9","@types/react-router-dom":"^5.1.7","@types/redux":"^3.6.0"}}')}},[[346,1,2]]]);
//# sourceMappingURL=main.ff290938.chunk.js.map